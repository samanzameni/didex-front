<ng-template
  [ngIf]="!symbolsData || symbolsData.length === 0"
  [ngIfElse]="content"
>
  <div class="loading-spinner"></div>
</ng-template>

<ng-template #content>
  <div arrangeStack class="instruments__header">
    <h2 class="instruments-header__title">Instruments</h2>

    <div arrangeInline class="instruments-header__controls">
      <ul arrangeInline class="instruments-header__base-currencies">
        <li
          *ngFor="let currency of baseCurrencies"
          class="instruments-header__currency"
          [ngClass]="{ active: activeBaseCurrency === currency }"
          (click)="activateBaseCurrency(currency)"
        >
          {{ currency }}
        </li>
      </ul>

      <!-- <button class="button-short">Favorites</button> -->
    </div>
  </div>

  <table arrangeStack class="ddx__table">
    <thead arrangeStack class="ddx-table__head">
      <tr arrangeInline>
        <th class="row-index">#</th>
        <th class="row-small">Name</th>
        <th class="row-big">Price</th>
        <th class="row-big">Volume</th>
        <th class="row-small">Change</th>
      </tr>
    </thead>
    <tbody arrangeStack class="ddx-table__body">
      <tr
        arrangeInline
        *ngFor="let symbolRow of tableData; let i = index"
        (click)="activateSymbol(symbolRow)"
      >
        <td class="row-index">{{ i + 1 }}</td>
        <td class="row-small">
          {{ symbolRow.quoteCurrencyShortName }}
        </td>
        <td class="row-big" *ngIf="tickerData && tickerData.length > 0">
          {{
            getTickerDataFromSymbol(symbolRow)
              ? getTickerDataFromSymbol(symbolRow).close
              : 0
          }}
        </td>
        <td class="row-big" *ngIf="tickerData && tickerData.length > 0">
          {{
            getTickerDataFromSymbol(symbolRow)
              ? getTickerDataFromSymbol(symbolRow).volume
              : 0
          }}
        </td>
        <td
          class="row-small"
          [ngClass]="getTickerChange(symbolRow) >= 0 ? 'up' : 'down'"
          *ngIf="tickerData && tickerData.length > 0"
        >
          {{ getTickerChange(symbolRow) | number: '1.0-2' }}%
        </td>
      </tr>
    </tbody>
  </table>
</ng-template>
